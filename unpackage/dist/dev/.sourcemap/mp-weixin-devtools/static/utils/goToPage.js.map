{"version":3,"names":["goToPage","url","params","arguments","length","undefined","type","uni","console","error","Error","fullUrl","Object","keys","concat","map","key","encodeURIComponent","join","navigateTo","redirectTo","reLaunch","switchTab","goBack","delta","navigateBack","_default","exports","default"],"sources":["goToPage.js"],"sourcesContent":["/**\r\n * 通用页面跳转工具函数\r\n * @param {string} url 目标页面路径\r\n * @param {object} [params={}] 传递的参数\r\n * @param {string} [type='navigateTo'] 跳转类型 \r\n */\r\nexport function goToPage(url, params = {}, type = 'navigateTo') {\r\n  if (typeof uni === 'undefined') {\r\n    console.error('Error: uni is not defined. This utility must be used in a Uni-App environment.');\r\n    throw new Error('uni is not defined');\r\n  }\r\n  // 检查是否有传入参数，并且参数对象不为空\r\n  const fullUrl = params && Object.keys(params).length \r\n    // 如果有参数，则构建带参数的 URL\r\n    ? `${url}?${Object.keys(params).map(key => \r\n        // 对每个参数键值对进行 URL 编码，确保特殊字符能正确传递\r\n        `${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`\r\n      // 使用 & 连接多个参数\r\n      ).join('&')}`\r\n    // 如果没有参数，直接使用原始 URL\r\n    : url;\r\n\r\n  // 根据传入的跳转类型选择不同的跳转方法\r\n  switch(type) {\r\n    // 默认方法：保留当前页面，跳转到新页面（可返回）\r\n    case 'navigateTo':\r\n      uni.navigateTo({ url: fullUrl });\r\n      break;\r\n    \r\n    // 替换当前页面，不可返回上一页\r\n    case 'redirectTo':\r\n      uni.redirectTo({ url: fullUrl });\r\n      break;\r\n    \r\n    // 关闭所有页面，打开新页面（常用于首页或登录页）\r\n    case 'reLaunch':\r\n      uni.reLaunch({ url: fullUrl });\r\n      break;\r\n    \r\n    // 跳转到 tabBar 页面\r\n    case 'switchTab':\r\n      uni.switchTab({ url: fullUrl });\r\n      break;\r\n    \r\n    // 如果传入未知类型，默认使用 navigateTo\r\n    default:\r\n      uni.navigateTo({ url: fullUrl });\r\n  }\r\n}\r\n\r\n/**\r\n * 返回上一页的通用函数\r\n * @param {number} [delta=1] 返回的页面数，默认返回一页\r\n */\r\nexport function goBack(delta = 1) {\r\n  if (typeof uni === 'undefined') {\r\n    console.error('Error: uni is not defined. This utility must be used in a Uni-App environment.');\r\n    throw new Error('uni is not defined');\r\n  }\r\n  // 调用 uni-app 的返回方法，可以返回多级页面\r\n  uni.navigateBack({ delta });\r\n}\r\n\r\n// 导出默认对象，支持两种引入方式\r\nexport default {\r\n  // 具名导出的函数\r\n  goToPage,\r\n  goBack\r\n}\r\n"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACO,SAASA,QAAQA,CAACC,GAAG,EAAoC;EAAA,IAAlCC,MAAM,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAAA,IAAEG,IAAI,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,YAAY;EAC5D,IAAI,OAAOI,GAAG,KAAK,WAAW,EAAE;IAC9BC,OAAO,CAACC,KAAK,CAAC,gFAAgF,CAAC;IAC/F,MAAM,IAAIC,KAAK,CAAC,oBAAoB,CAAC;EACvC;EACA;EACA,IAAMC,OAAO,GAAGT,MAAM,IAAIU,MAAM,CAACC,IAAI,CAACX,MAAM,CAAC,CAACE;EAC5C;EAAA,KAAAU,MAAA,CACKb,GAAG,OAAAa,MAAA,CAAIF,MAAM,CAACC,IAAI,CAACX,MAAM,CAAC,CAACa,GAAG,CAAC,UAAAC,GAAG;IAAA,OACnC;MAAA,GAAAF,MAAA,CACGG,kBAAkB,CAACD,GAAG,CAAC,OAAAF,MAAA,CAAIG,kBAAkB,CAACf,MAAM,CAACc,GAAG,CAAC,CAAC;IAAA;EAAA;EAC/D;EAAA,CACC,CAACE,IAAI,CAAC,GAAG,CAAC,EACb;EAAA,EACEjB,GAAG;;EAEP;EACA,QAAOK,IAAI;IACT;IACA,KAAK,YAAY;MACfC,GAAG,CAACY,UAAU,CAAC;QAAElB,GAAG,EAAEU;MAAQ,CAAC,CAAC;MAChC;;IAEF;IACA,KAAK,YAAY;MACfJ,GAAG,CAACa,UAAU,CAAC;QAAEnB,GAAG,EAAEU;MAAQ,CAAC,CAAC;MAChC;;IAEF;IACA,KAAK,UAAU;MACbJ,GAAG,CAACc,QAAQ,CAAC;QAAEpB,GAAG,EAAEU;MAAQ,CAAC,CAAC;MAC9B;;IAEF;IACA,KAAK,WAAW;MACdJ,GAAG,CAACe,SAAS,CAAC;QAAErB,GAAG,EAAEU;MAAQ,CAAC,CAAC;MAC/B;;IAEF;IACA;MACEJ,GAAG,CAACY,UAAU,CAAC;QAAElB,GAAG,EAAEU;MAAQ,CAAC,CAAC;EAAC;AAEvC;;AAEA;AACA;AACA;AACA;AACO,SAASY,MAAMA,CAAA,EAAY;EAAA,IAAXC,KAAK,GAAArB,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;EAC9B,IAAI,OAAOI,GAAG,KAAK,WAAW,EAAE;IAC9BC,OAAO,CAACC,KAAK,CAAC,gFAAgF,CAAC;IAC/F,MAAM,IAAIC,KAAK,CAAC,oBAAoB,CAAC;EACvC;EACA;EACAH,GAAG,CAACkB,YAAY,CAAC;IAAED,KAAK,EAALA;EAAM,CAAC,CAAC;AAC7B;;AAEA;AAAA,IAAAE,QAAA,GAAAC,OAAA,CAAAC,OAAA,GACe;EACb;EACA5B,QAAQ,EAARA,QAAQ;EACRuB,MAAM,EAANA;AACF,CAAC","ignoreList":[]}